# =============================================================================
# SFMC DE Toolkit - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SFMC Authentication (Required)
# -----------------------------------------------------------------------------
# OAuth 2.0 Client Credentials - obtain from SFMC Setup > Apps > Installed Packages
SFMC_CLIENT_ID=your_client_id
SFMC_CLIENT_SECRET=your_client_secret

# Your SFMC subdomain (the part before .auth.marketingcloudapis.com)
SFMC_SUBDOMAIN=your_subdomain

# Full URLs (replace YOUR_SUBDOMAIN with your tenant subdomain)
# Find your subdomain in SFMC Setup > Apps > Installed Packages > your package
SFMC_AUTH_URL=https://YOUR_SUBDOMAIN.auth.marketingcloudapis.com
SFMC_SOAP_URL=https://YOUR_SUBDOMAIN.soap.marketingcloudapis.com/Service.asmx
SFMC_REST_URL=https://YOUR_SUBDOMAIN.rest.marketingcloudapis.com

# Your Business Unit MID
SFMC_ACCOUNT_ID=your_mid

# -----------------------------------------------------------------------------
# Safety Settings (Critical for Production)
# -----------------------------------------------------------------------------
# Comma-separated folder name patterns that should NEVER be deleted
# These patterns are checked with case-insensitive contains matching
PROTECTED_FOLDER_PATTERNS=System,CASL,Shared Data Extensions,SYS_,Platform,Salesforce,Einstein,Synchronized,Contact Builder,MobileConnect,MobilePush,GroupConnect,CloudPages

# Comma-separated prefixes for Data Extensions that should NEVER be deleted
# These are checked with case-insensitive startsWith matching
PROTECTED_DE_PREFIXES=SYS_,CASL_,CAD_,IDP_,US_OptOut,US_Bounce,US_Complaints,_Subscribers,_Bounce,_Click,_Complaint,_Job,_Journey,_Open,_Sent,_Unsubscribe,_MobileAddress,_MobileSubscription,_PushAddress,_SMSMessageTracking,ent.,_EnterpriseAttribute,ContactMaster

# Maximum number of DEs to delete in a single batch before pausing
# Lower values = more checkpoints, higher safety
MAX_DELETE_BATCH_SIZE=50

# Delay between API calls in milliseconds (for rate limiting)
# SFMC recommends 200-500ms between calls
API_RATE_LIMIT_DELAY_MS=200

# -----------------------------------------------------------------------------
# Business Unit Restrictions (Optional)
# -----------------------------------------------------------------------------
# If set, operations will ONLY be allowed on these MIDs (comma-separated)
# Leave empty to allow all accessible BUs
ALLOWED_BUSINESS_UNITS=

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Maximum log file size before rotation (in bytes)
LOG_MAX_SIZE=10485760

# Number of log files to keep
LOG_MAX_FILES=10

# -----------------------------------------------------------------------------
# Webhook Notifications (Optional)
# -----------------------------------------------------------------------------
# URL to POST operation results to (for Slack, Teams, etc.)
WEBHOOK_URL=

# Include full audit details in webhook (may be large)
WEBHOOK_INCLUDE_DETAILS=false
